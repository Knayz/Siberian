<ion-view sb-page-background
          class="xdelivery xdelivery-search">
     <ion-nav-title>{{ ::"Search Products" | translate:"xdelivery" }}</ion-nav-title>
 
    <ion-content class="has-header">
     
      <div class="list list-inset" >
          <label class="item item-input item-button-right" >
              <i class="icon ion-search placeholder-icon"></i>
              <input type="search"
                     ng-modal="payout.search_text"
                     ng-init="payout.search_text = ''"
                     ng-value=""
                     id="productSearch"
                     class="search-input"
                     placeholder='{{forTranslate("Search a products")}}'  
                     ng-keyup="loadSearchContent()" />
          </label>
      </div>

      <div class="loader" ng-show="is_loading">
         <ion-spinner class="spinner-custom"></ion-spinner>
      </div> 
     
   <div class="list" ng-if="!is_loading">

      <div ng-if="payout.search_text == ''" class="item item-divider item-divider-custom remove-border" ng-show="!is_loading">
        {{ ::"Popular Searches" | translate:"xdelivery" }}
      </div>

       <a ng-if="payout.search_text == ''" class="item item-custom" ng-show="!is_loading" ui-sref="xdelivery-products({value_id: value_id, category_id: value.id })"  ng-repeat="value in payout.popular_suggestions">
        {{value.category_name}}
      </a>

       <div ng-if="payout.search_text != ''">
            <ng-include ng-if="settings.product_design == 'grid' && payout.products.length" src="'./features/xdelivery/assets/templates/l1/include/product_grid.html'"></ng-include>

            <ng-include ng-if="settings.product_design == 'list' && payout.products.length" src="'./features/xdelivery/assets/templates/l1/include/product_list.html'"></ng-include>
        </div>

      </div>

    </ion-content>
  </ion-view>