angular.module('starter').factory('Classifieds2Base',function($rootScope,$timeout,$translate,Application,Customer,Classifieds2,Classifieds2Advert){var factory={};factory.globalFilters={fulltext:'',category:'',categoryLabel:'',minPrice:'',maxPrice:'',zipCode:'',withPictures:!1,withAddress:!1,withPhone:!1,orderBy:'newest'};factory.isLoggedIn=function(){return Customer.isLoggedIn()};factory.validateFilters=function(){$timeout(function(){factory.globalFilters.fulltext=factory.globalFilters.fulltext;factory.globalFilters.category=factory.globalFilters.category;factory.globalFilters.categoryLabel=factory.globalFilters.categoryLabel;factory.globalFilters.minPrice=factory.globalFilters.minPrice;factory.globalFilters.maxPrice=factory.globalFilters.maxPrice;factory.globalFilters.zipCode=factory.globalFilters.zipCode;factory.globalFilters.withPictures=factory.globalFilters.withPictures;factory.globalFilters.withAddress=factory.globalFilters.withAddress;factory.globalFilters.withPhone=factory.globalFilters.withPhone;factory.globalFilters.orderBy=factory.globalFilters.orderBy;$rootScope.$broadcast('classifieds2.refresh')})};factory.filtersToString=function(){let textParts=[];if(factory.globalFilters.fulltext.length>0){textParts.push(factory.globalFilters.fulltext)}
if(factory.globalFilters.category>0){textParts.push('<b>'+$translate.instant('IN')+'</b>');let categoryLabel=Classifieds2.getSettings().categoriesIndex[factory.globalFilters.category];textParts.push('<span class="filter-category">'+categoryLabel+'</span>')}
if(textParts.length<=0){return $translate.instant('Search, filter...','classifieds2')}
return textParts.join(' ').trim()};factory.clearFullText=function(){$timeout(function(){factory.globalFilters.fulltext=''})};factory.clearMinPrice=function(){$timeout(function(){factory.globalFilters.minPrice=''})};factory.clearMaxPrice=function(){$timeout(function(){factory.globalFilters.maxPrice=''})};factory.clearZipCode=function(){$timeout(function(){factory.globalFilters.zipCode=''})};factory.clearFilters=function(){$timeout(function(){factory.globalFilters={fulltext:'',category:'',categoryLabel:'',minPrice:'',maxPrice:'',zipCode:'',withPictures:!1,withAddress:!1,withPhone:!1,orderBy:'newest'}})};factory.backButtonIcon=function(){return Application.getBackIcon()};factory.getImageSrc=function(image){if(image&&image.src){if(image.src.indexOf('/')===0){return IMAGE_URL+'/images/application'+image.src}
if(image.src.indexOf('https://')===0){return image.src}}
return IMAGE_URL+'/app/local/modules/Classifieds2/features/classifieds2/assets/templates/images/placeholders/no-image-promotion.png'};factory.formatPrice=function(price,withCurrency){return price+' '+factory.getCurrency()};factory.getCurrency=function(){return Classifieds2.getSettings().currency.symbol};factory.bookmarkNotice=function(){if(window.IS_NATIVE_APP){try{window.plugins.toast.hide();window.plugins.toast.showShortBottom($translate.instant('Bookmarked!','classifieds2'))}catch(e){}}};factory.toggleBookmark=function(advert){if(!Customer.isLoggedIn()){return Customer.loginModal()}
Classifieds2Advert.toggleBookmark(advert.id).then(function(success){$timeout(function(){advert.bookmarked=success.status});factory.bookmarkNotice()},function(error){})};factory.iLike=function(advert){return advert.bookmarked};return factory});angular.module('starter').factory('Classifieds2',function($stateParams,$pwaRequest){var factory={storage:[],lastValueId:null};factory.loadSettings=function(){if(factory.storage.hasOwnProperty($stateParams.value_id)){return $pwaRequest.resolve(factory.storage[$stateParams.value_id])}
var payload=$pwaRequest.getPayloadForValueId($stateParams.value_id);if(payload!==!1){factory.storage[$stateParams.value_id]=payload;return $pwaRequest.resolve(payload)}
var promise=$pwaRequest.get('classifieds2/mobile_home/load-settings',{urlParams:{value_id:$stateParams.value_id}});promise.then(function(success){factory.storage[$stateParams.value_id]=success});return promise};factory.getSettings=function(){if(factory.storage.hasOwnProperty($stateParams.value_id)){factory.lastValueId=$stateParams.value_id;return factory.storage[$stateParams.value_id].settings}
if(factory.storage.hasOwnProperty(factory.lastValueId)){return factory.storage[factory.lastValueId].settings}
return{cardDesign:!1,features:{},icons:{home:null,bookmark:null,shop:null,new:null},lat:0,lng:0,max_images:10}};return factory});angular.module('starter').factory('Classifieds2Advert',function($pwaRequest,$stateParams){var factory={storage:[]};factory.findAll=function(filters,offset,refresh){return $pwaRequest.post('classifieds2/mobile_advert/find-all',angular.extend({urlParams:{value_id:$stateParams.value_id,},data:filters,cache:!1,refresh:refresh},factory.extendedOptions))};factory.findAllList=function(filters,offset,refresh){return $pwaRequest.post('classifieds2/mobile_advert/find-all-list',angular.extend({urlParams:{value_id:$stateParams.value_id,},data:filters,refresh:refresh},factory.extendedOptions))};factory.findAllBookmark=function(refresh){return $pwaRequest.post('classifieds2/mobile_advert/find-all-bookmark',angular.extend({urlParams:{value_id:$stateParams.value_id,},refresh:refresh},factory.extendedOptions))};factory.findAllProfile=function(refresh){return $pwaRequest.post('classifieds2/mobile_advert/find-all-profile',angular.extend({urlParams:{value_id:$stateParams.value_id,},refresh:refresh},factory.extendedOptions))};factory.toggleBookmark=function(advertId){return $pwaRequest.post('classifieds2/mobile_advert/toggle-bookmark',angular.extend({urlParams:{value_id:$stateParams.value_id,advertId:advertId}},factory.extendedOptions))};factory.sendMessage=function(advertId,contact){return $pwaRequest.post('classifieds2/mobile_advert/message',{urlParams:{value_id:$stateParams.value_id},data:{advertId:advertId,contact:contact},cache:!1})};factory.upsert=function(advertId,form){return $pwaRequest.post('classifieds2/mobile_publish/upsert',{urlParams:{value_id:$stateParams.value_id},data:{timestamp:Math.round(Date.now()/1000),advertId:advertId,form:form},timeout:300000,cache:!1})};factory.republishAd=function(advertId){return $pwaRequest.post('classifieds2/mobile_publish/republish',{urlParams:{value_id:$stateParams.value_id},data:{timestamp:Math.round(Date.now()/1000),advertId:advertId},timeout:300000,cache:!1})};factory.deleteAdvert=function(advertId){return $pwaRequest.post('classifieds2/mobile_advert/delete',{urlParams:{value_id:$stateParams.value_id},data:{advertId:advertId}})};return factory});angular.module('starter').factory('Classifieds2Utils',function($rootScope,$timeout,Dialog,Loader,Modal){let factory={_contactModal:null,_upsertModal:null,_showAdvertModal:null,_showAdvertGroupModal:null,_filterModal:null,};factory.contactModal=function(advert){Modal.fromTemplateUrl('features/classifieds2/assets/templates/l1/modal/contact.html',{scope:angular.extend($rootScope.$new(!0),{advert:advert,close:function(){factory._contactModal.hide()}}),animation:'slide-in-right-left'}).then(function(modal){factory._contactModal=modal;factory._contactModal.show();return modal})};factory.upsertModal=function(advert){Modal.fromTemplateUrl('features/classifieds2/assets/templates/l1/modal/upsert.html',{scope:angular.extend($rootScope.$new(!0),{advert:advert,close:function(){factory._upsertModal.hide()}}),animation:'slide-in-right-left'}).then(function(modal){factory._upsertModal=modal;factory._upsertModal.show();return modal})};factory.showAdvertModal=function(advert){let _localScope=angular.extend($rootScope.$new(!0),{modalReady:!1,close:function(){factory._showAdvertModal.hide()}});Modal.fromTemplateUrl('features/classifieds2/assets/templates/l1/modal/advert.html',{scope:_localScope,animation:'slide-in-right-left'}).then(function(modal){factory._showAdvertModal=modal;factory._showAdvertModal.show();$timeout(function(){_localScope.advert=advert;_localScope.modalReady=!0;$rootScope.$broadcast('classifieds2.modal.ready')},500);return modal})};factory.showAdvertGroupModal=function(advertGroup){let _localScope=angular.extend($rootScope.$new(!0),{modalReady:!1,close:function(){factory._showAdvertGroupModal.hide()}});Modal.fromTemplateUrl('features/classifieds2/assets/templates/l1/modal/advert-group.html',{scope:_localScope,animation:'slide-in-right-left'}).then(function(modal){factory._showAdvertGroupModal=modal;factory._showAdvertGroupModal.show();$timeout(function(){_localScope.advertGroup=advertGroup;_localScope.modalReady=!0;$rootScope.$broadcast('classifieds2.modal.ready')},500);return modal})};factory.showFilterModal=function(){let _localScope=angular.extend($rootScope.$new(!0),{modalReady:!1,close:function(){factory._filterModal.hide()}});Modal.fromTemplateUrl('features/classifieds2/assets/templates/l1/modal/filter.html',{scope:_localScope,animation:'slide-in-right-left'}).then(function(modal){factory._filterModal=modal;factory._filterModal.show();$timeout(function(){_localScope.modalReady=!0;$rootScope.$broadcast('classifieds2.modal.ready')},20);return modal})};return factory});angular.module('starter').controller('Classifieds2HomeController',function($rootScope,$scope,$state,$stateParams,$timeout,$ionicSideMenuDelegate,Customer,Classifieds2,Classifieds2Utils,Dialog){angular.extend($scope,{settingsAreLoaded:!1,value_id:$stateParams.value_id,collection:[],pageTitle:'',hasMore:!1,currentTab:'map',crMap:null});$scope.getCardDesign=function(){return Classifieds2.getSettings().cardDesign};$scope.getSettings=function(){return Classifieds2.getSettings()};$scope.locationTab=function(){return['map'].indexOf($scope.currentTab)!==-1};$scope.locationIsDisabled=function(){return!Location.isEnabled};$scope.showTab=function(tabName){let mustLogin=['bookmark','shop'].indexOf(tabName)!==-1;if(mustLogin&&!Customer.isLoggedIn()){Dialog.alert('Login required','In order to bookmark and/or post ads, you must be logged-in!','OK',5000,'classifieds2').then(function(){Customer.loginModal($scope,function(){$scope.currentTab=tabName},function(){},function(){$scope.currentTab=tabName})})}else{$scope.currentTab=tabName}};$scope.$on('$ionicView.afterLeave',function(){$ionicSideMenuDelegate.canDragContent(!0)});$scope.classTab=function(key){if($scope.currentTab===key){return['fw-icon-selected','icon-active-custom']}
return['icon-custom']};$scope.displayIcon=function(key){var icons=$scope.getSettings().icons;switch(key){case 'map':return(icons.map!==null)?"<img class=\"fw-icon-header icon-topics\" src=\""+icons.map+"\" />":"<i class=\"icon ion-sb-fw-map\"></i>";case 'list':return(icons.list!==null)?"<img class=\"fw-icon-header icon-topics\" src=\""+icons.list+"\" />":"<i class=\"icon ion-ios-list-outline\"></i>";case 'bookmark':return(icons.bookmark!==null)?"<img class=\"fw-icon-header icon-nearby\" src=\""+icons.bookmark+"\" />":"<i class=\"icon ion-ios-heart-outline\"></i>";case 'shop':return(icons.shop!==null)?"<img class=\"fw-icon-header icon-gallery\" src=\""+icons.shop+"\" />":"<i class=\"icon ion-ios-person-outline\"></i>";case 'new':return(icons.new!==null)?"<img class=\"fw-icon-header icon-post\" src=\""+icons.new+"\" />":"<i class=\"icon ion-ios-plus-outline\"></i>"}};$scope.refresh=function(){$rootScope.$broadcast('classifieds2.refresh')};$rootScope.$on('location.request.success',function(){$scope.refresh()});$scope.newAdvert=function(){if(!Customer.isLoggedIn()){return Customer.loginModal()}
return Classifieds2Utils.upsertModal()};$timeout(function(){$scope.currentTab=($state.current.name==='classifieds2-home-map')?'map':'list'});Classifieds2
.loadSettings().then(function(){$scope.getCardDesign();$scope.getSettings();$scope.settingsAreLoaded=!0});$rootScope.$on('classifieds2.pageTitle',function(event,payload){$timeout(function(){$scope.pageTitle=payload.pageTitle})})});angular.module('starter').controller('Classifieds2MapController',function($scope,$rootScope,$state,$stateParams,$timeout,$translate,$ionicSideMenuDelegate,Loader,Location,Classifieds2,Classifieds2Base,Classifieds2Advert,Classifieds2Utils,GoogleMaps){angular.extend($scope,Classifieds2Base,{isLoading:!0,isShortLoading:!1,emptyResult:!1,collection:[],showInfoWindow:!1,currentPost:null,filters:{e:0,n:0,s:0,w:0,zoom:10},idleTimer:null});window.markers=[];$scope.getSettings=function(){return Classifieds2.getSettings()};$scope.hideInfoWindow=function(){$scope.showInfoWindow=!1};$scope.showAdvertGroupModal=function(advertGroup){if(advertGroup.length===1){Classifieds2Utils.showAdvertModal(advertGroup[0])}else{Classifieds2Utils.showAdvertGroupModal(advertGroup)}};$scope.filterModal=function(){Classifieds2Utils.showFilterModal()};$scope.$on('$ionicView.enter',function(){$ionicSideMenuDelegate.canDragContent(!1)});$scope.$on('$ionicView.leave',function(){$ionicSideMenuDelegate.canDragContent(!0)});$scope.zoomIn=function(){$scope.crMap.setZoom($scope.crMap.getZoom()+1)};$scope.zoomOut=function(){$scope.crMap.setZoom($scope.crMap.getZoom()-1)};$scope.loadContent=function(refresh){let filters=angular.extend($scope.filters,Classifieds2Base.globalFilters);Classifieds2Advert.findAll(filters,0,refresh).then(function(payload){for(var i=0;i<window.markers.length;i++){window.markers[i].setMap(null)}
window.markers=[];$scope.collection=payload.collection;for(var position in $scope.collection){var advertGroup=$scope.collection[position];var marker={config:{advertGroup:angular.copy(advertGroup)},onClick:(function(marker){$timeout(function(){$scope.showAdvertGroupModal(marker.config.advertGroup)})})};marker.latitude=position.split('_')[0];marker.longitude=position.split('_')[1];var pinUrl;switch(advertGroup.length){case 1:pinUrl='./features/classifieds2/assets/templates/images/pin1.svg';break;case 2:pinUrl='./features/classifieds2/assets/templates/images/pin2.svg';break;case 3:pinUrl='./features/classifieds2/assets/templates/images/pin3.svg';break;case 4:pinUrl='./features/classifieds2/assets/templates/images/pin4.svg';break;case 5:default:pinUrl='./features/classifieds2/assets/templates/images/pin5.svg';break}
var tmpMarker=new google.maps.Marker({position:new google.maps.LatLng(marker.latitude,marker.longitude),map:$scope.crMap,icon:{url:pinUrl,anchor:new google.maps.Point(26,52),scaledSize:new google.maps.Size(40,40)}});google.maps.event.addListener(tmpMarker,'click',function(){marker.onClick(marker)});window.markers.push(tmpMarker)}}).finally(function(){if($scope.isLoading===!0){$scope.isLoading=!1;Loader.hide()}
$scope.isShortLoading=!1})};$scope.centerMe=function(){Location.getLocation().then(function(position){$scope.crMap.setCenter(new google.maps.LatLng(position.coords.latitude,position.coords.longitude));$scope.crMap.setZoom(15)},function(){Dialog.alert('Location','Sorry we are unable to locate you, please check your GPS settings & authorization.','OK',-1,'classifieds2')})};$scope.updateBounds=function(){let jsonBounds=$scope.crMap.getBounds().toJSON();$scope.filters.e=jsonBounds.east;$scope.filters.n=jsonBounds.north;$scope.filters.s=jsonBounds.south;$scope.filters.w=jsonBounds.west;$scope.filters.zoom=$scope.crMap.getZoom()};$scope.initMap=function(){$scope.mapSettings={zoom:10,center:{lat:$scope.getSettings().lat,lng:$scope.getSettings().lng},disableDefaultUI:!0,bounds_to_marker:!0};$scope.crMap=GoogleMaps.createMap('crMap',$scope.mapSettings);google.maps.event.addListener($scope.crMap,'idle',function(){$timeout.cancel($scope.idleTimer);$scope.idleTimer=$timeout(function(){$scope.updateBounds();$scope.isShortLoading=!$scope.isLoading;$scope.loadContent(!0)},750)})};$scope.$on('classifieds2.refresh',function(){if($scope.currentTab==='map'){$scope.isShortLoading=!0;$scope.loadContent(!0)}});$scope.filters.latitude=$scope.getSettings().lat;$scope.filters.longitude=$scope.getSettings().lng;GoogleMaps.addCallback($scope.initMap);Loader.show($translate.instant('Loading...','classifieds2'))});angular.module('starter').controller('Classifieds2ListController',function($scope,$rootScope,$state,$stateParams,$timeout,$translate,$ionicSideMenuDelegate,Loader,Location,Classifieds2,Classifieds2Advert,Classifieds2Base,Classifieds2Utils){angular.extend($scope,Classifieds2Base,{isLoading:!0,collection:[],showInfoWindow:!1,currentPost:null,markers:[],filters:{}});$scope.getSettings=function(){return Classifieds2.getSettings()};$scope.filterModal=function(){Classifieds2Utils.showFilterModal()};$scope.showAdvertModal=function(advert){Classifieds2Utils.showAdvertModal(advert)};$scope.loadContent=function(){Loader.show($translate.instant('Loading...','classifieds2'));let filters=angular.extend($scope.filters,Classifieds2Base.globalFilters);Classifieds2Advert.findAllList(filters,0,!1).then(function(payload){$timeout(function(){$scope.collection=payload.collection});$rootScope.$broadcast('classifieds2.pageTitle',{pageTitle:payload.pageTitle})}).finally(function(){$scope.isLoading=!1;Loader.hide()})};$scope.$on('classifieds2.refresh',function(){if($scope.currentTab==='list'){$scope.loadContent()}});$scope.loadContent()});angular.module('starter').controller('Classifieds2AdvertController',function($scope,$filter,Customer,Classifieds2Advert,Classifieds2Utils,Classifieds2Base){angular.extend($scope,Classifieds2Base,{});$scope.currentPrice=function(advert){return $scope.formatPrice(advert.price,!0)};$scope.publishDate=function(advert){return moment(advert.timestamp*1000).calendar()};$scope.messageSeller=function(advert){Classifieds2Utils.contactModal(advert)};$scope.hasCustomFields=function(advert){return Object.keys(advert.payload).length>0};$scope.callSeller=function(advert){window.open('tel://'+advert.phone)}});angular.module('starter').controller('Classifieds2AdvertGroupController',function($scope,Classifieds2Base){angular.extend($scope,Classifieds2Base,{})});angular.module('starter').controller('Classifieds2FilterController',function($scope,$rootScope,$state,$stateParams,$timeout,Loader,Classifieds2,Classifieds2Base){angular.extend($scope,Classifieds2Base,{categories:[],categoriesIndex:[]});$scope.getSettings=function(){return Classifieds2.getSettings()};$scope.getCategory=function(categoryId){return $scope.categoriesIndex[categoryId]};$scope.hasCategories=function(){return Object.keys($scope.categories).length>0};$scope.categories=angular.copy($scope.getSettings().categories);$scope.categoriesIndex=angular.copy($scope.getSettings().categoriesIndex)});angular.module('starter').controller('Classifieds2BookmarkController',function($scope,$rootScope,$state,$stateParams,$timeout,$translate,$ionicSideMenuDelegate,Loader,Location,Classifieds2,Classifieds2Advert,Classifieds2Base,Classifieds2Utils){angular.extend($scope,Classifieds2Base,{isLoading:!0,collection:[],showInfoWindow:!1,currentPost:null,markers:[],filters:{}});$scope.getSettings=function(){return Classifieds2.getSettings()};$scope.showAdvertModal=function(advert){Classifieds2Utils.showAdvertModal(advert)};$scope.loadContent=function(){Loader.show($translate.instant('Loading...','classifieds2'));Classifieds2Advert.findAllBookmark(!0).then(function(payload){$timeout(function(){$scope.collection=payload.collection});$rootScope.$broadcast('classifieds2.pageTitle',{pageTitle:payload.pageTitle})}).finally(function(){$scope.isLoading=!1;Loader.hide()})};$scope.$on('classifieds2.refresh',function(){if($scope.currentTab==='bookmark'){$scope.loadContent()}});$scope.loadContent()});angular.module('starter').controller('Classifieds2ShopController',function($scope,$rootScope,$state,$stateParams,$timeout,$translate,$ionicSideMenuDelegate,Loader,Location,Classifieds2,Classifieds2Advert,Classifieds2Base,Classifieds2Utils){angular.extend($scope,Classifieds2Base,{isLoading:!0,collection:[],showInfoWindow:!1,currentPost:null,markers:[],filters:{}});$scope.getSettings=function(){return Classifieds2.getSettings()};$scope.showAdvertModal=function(advert){Classifieds2Utils.showAdvertModal(advert)};$scope.loadContent=function(){Loader.show($translate.instant('Loading...','classifieds2'));Classifieds2Advert.findAllProfile(!0).then(function(payload){$timeout(function(){$scope.collection=payload.collection});$rootScope.$broadcast('classifieds2.pageTitle',{pageTitle:payload.pageTitle})}).finally(function(){$scope.isLoading=!1;Loader.hide()})};$scope.$on('classifieds2.refresh',function(){if($scope.currentTab==='shop'){$scope.loadContent()}});$scope.loadContent()});angular.module('starter').controller('Classifieds2ContactController',function($scope,$rootScope,$state,$stateParams,$timeout,$translate,Loader,Customer,Classifieds2,Dialog,Classifieds2Advert,Classifieds2Base){angular.extend($scope,Classifieds2Base,{validateFields:[],contact:{name:'',email:'',message:'',},categoriesIndex:[]});$scope.isLoggedIn=function(){return Customer.isLoggedIn()};$scope.pristineFields=function(){if(Customer.isLoggedIn()){$timeout(function(){$scope.contact.name=Customer.customer.firstname+' '+Customer.customer.lastname;$scope.contact.email=Customer.customer.email;$scope.contact.message=''})}else{$timeout(function(){$scope.contact.name='';$scope.contact.email='';$scope.contact.message=''})}};$scope.validate=function(){$scope.validateFields=[];if($scope.contact.name.length<=0){$scope.validateFields.push('- '+$translate.instant('Name is required','classifies2'))}
if(!Customer.isLoggedIn()){if($scope.contact.email.length<=0){$scope.validateFields.push('- '+$translate.instant('Email is required','classifies2'))}}
if($scope.contact.message.length<=0){$scope.validateFields.push('- '+$translate.instant('Message is required and must be at least 30 characters','classifies2'))}
return($scope.validateFields.length<=0)};$scope.sendMessage=function(advert){if(!$scope.validate()){Dialog.alert('Required fields',$scope.validateFields.join('<br />'),'OK','classifies2')}else{Loader.show($translate.instant('Sending...','classifieds2'));Classifieds2Advert.sendMessage(advert.id,$scope.contact).then(function(data){$scope.pristineFields();Dialog.alert('Success',data.message,'OK',3200,'classifieds2').then(function(){$scope.close()})},function(data){Dialog.alert('Error',data.message,'OK',-1,'classifieds2')}).then(function(){Loader.hide()})}};$scope.pristineFields()});angular.module('starter').controller('Classifieds2UpsertController',function($rootScope,$scope,$stateParams,$filter,$translate,Dialog,Loader,Classifieds2,Classifieds2Advert,Classifieds2Base){angular.extend($scope,Classifieds2Base,{isLoading:!0,value_id:$stateParams.value_id,pageTitle:$translate.instant('Publish an ad','classifieds2'),originalFields:{},cardDesign:!1,fields:{},valueId:0,advertId:null,modalResult:null,categories:[],categoriesIndex:[]});$scope.pristineFields=function(){$scope.fields=angular.copy($scope.originalFields);$scope.sections=$scope.buildSections($scope.fields)};$scope.validateSection=function(sections){let hasOneValidField=!1;sections.forEach(function(checkField){if(checkField.type!=='spacer'){hasOneValidField=!0}});return hasOneValidField};$scope.submitDate=function(timestamp){return $filter('moment_calendar')(timestamp*1000)};$scope.buildSections=function(fields){var sections=[];var _tmpSection=[];fields.forEach(function(field){if(field.type==='divider'){if(_tmpSection.length>0&&$scope.validateSection(_tmpSection)){sections.push(_tmpSection)}
_tmpSection=[]}
_tmpSection.push(field)});if(_tmpSection.length>0&&$scope.validateSection(_tmpSection)){sections.push(_tmpSection)}
return sections};$scope.getImageSrc=function(image){if(!image.length){return"./features/classifieds2/assets/templates/l1/img/no-image.png"}
return IMAGE_URL+'images/application'+image};$scope.checkValue=function(field){field.value+='';field.value=field.value.replace(/[^0-9\.,\-]/,'')};$scope.formIsValid=function(){var required=['number','password','text','textarea','date','datetime','clickwrap','select'];var isValid=!0;var invalidFields=[];var text;$scope.fields.forEach(function(field){if(required.indexOf(field.type)>=0&&field.is_required){if(field.type==='clickwrap'&&field.value!==!0){invalidFields.push('&nbsp;-&nbsp;'+field.label);isValid=!1}else if(field.type==='number'){var current=parseFloat(field.value);if(!Number.isFinite(current)){text=$translate.instant('is not a number','classifieds2');invalidFields.push('&nbsp;-&nbsp;'+field.label+' '+text);isValid=!1}
var min=Number.parseInt(field.min);var max=Number.parseInt(field.max);var step=parseFloat(field.step);if(current<min||current>max){text=$translate.instant('is not inside range','classifieds2')+' '+min+'-'+max;invalidFields.push('&nbsp;-&nbsp;'+field.label+' '+text);isValid=!1}
if(step!==0&&!Number.isInteger(current/step)){text=$translate.instant('must match increment','classifieds2')+' '+step;invalidFields.push('&nbsp;-&nbsp;'+field.label+' '+text);isValid=!1}}else if(field.value===undefined||(field.value+'').trim().length===0){invalidFields.push('&nbsp;-&nbsp;'+field.label);isValid=!1}}});if(!isValid){Dialog.alert('Required fields',invalidFields.join('<br />'),'OK',-1,'classifieds2')}
return isValid};$scope.upsert=function(){Loader.show($translate.instant('Sending...','classifieds2'));if(!$scope.formIsValid()){Loader.hide();return}
Classifieds2Advert.upsert($scope.advertId,$scope.fields).then(function(data){$scope.pristineFields();Dialog.alert('Success',data.message,'OK',3200,'classifieds2').then(function(){$rootScope.$broadcast('classifieds2.refresh');$scope.close()})},function(data){Dialog.alert('Error',data.message,'OK',-1,'classifieds2')}).then(function(){Loader.hide()})};$scope.getCategory=function(categoryId){return $scope.categoriesIndex[categoryId]};$scope.hasCategories=function(){return Object.keys($scope.categories).length>0};$scope.categories=angular.copy(Classifieds2.getSettings().categories);$scope.categoriesIndex=angular.copy(Classifieds2.getSettings().categoriesIndex);$scope.originalFields=Classifieds2.getSettings().formFields;$scope.pristineFields()});angular.module('starter').directive('classifieds2Slider',function(){return{restrict:'E',scope:{images:'=',options:'=?'},templateUrl:'./features/classifieds2/assets/templates/l1/directive/slider.html',controller:function($ionicGesture,$scope){$scope.carouselIndex=0;$scope.getImageSrc=function(image){if(image&&image.src){if(image.src.indexOf('/')===0){return IMAGE_URL+'/images/application'+image.src}
if(image.src.indexOf('https://')===0){return image.src}}
return IMAGE_URL+'/app/local/modules/Classifieds2/features/classifieds2/assets/templates/images/placeholders/no-image-promotion.png'}}}});angular.module('starter').directive('classifieds2AdvertList',function($rootScope,$filter,$sce,$translate,$timeout,$q,Customer,Dialog,Loader,Classifieds2,Classifieds2Advert,Classifieds2Utils,Classifieds2Base){return{restrict:'E',scope:{adverts:'=',ownerView:'=?'},templateUrl:'features/classifieds2/assets/templates/l1/views/directives/advert-list.html',link:function(scope){if(scope.ownerView===undefined){scope.ownerView=!1}},controller:function($scope){angular.extend($scope,Classifieds2Base,Classifieds2Utils,Classifieds2Advert);$scope.getCardDesign=function(){return Classifieds2.getSettings().cardDesign};$scope.getSettings=function(){return Classifieds2.getSettings()};$scope.showAdvertModal=function(advert){Classifieds2Utils.showAdvertModal(advert)};$scope.removeAd=function($event,advert){$event.stopPropagation();if(!$scope.ownerView){return}
Dialog.confirm('Confirmation','Are you sure you want to delete this ad?',['YES','NO'],'','classifieds2').then(function(result){if(result){Classifieds2Advert.deleteAdvert(advert.id).then(function(success){Dialog.alert('Success',success.message,'OK');$rootScope.$broadcast('classifieds2.refresh')},function(error){Dialog.alert('Error',error.message,'OK');$rootScope.$broadcast('classifieds2.refresh')})}})}}}});angular.module('starter').directive('classifieds2Clickwrap',function(Application){return{restrict:'E',replace:!1,scope:{field:'=',cardDesign:'=?'},templateUrl:'./features/classifieds2/assets/templates/l1/directive/clickwrap.html',link:function(scope){if(scope.cardDesign===undefined){scope.cardDesign=!1}
scope.field.value=!1;scope.modal=null;scope.privacyPolicy=scope.field.clickwrap_richtext;scope.defaultTitle=scope.field.label;scope.modalTitle=scope.defaultTitle;if(scope.field.clickwrap_modaltitle.length>0){scope.modalTitle=scope.field.clickwrap_modaltitle}},controller:function($scope,Modal){$scope.onClick=function(){if(!$scope.field.value){return}
Modal.fromTemplateUrl('./features/classifieds2/assets/templates/l1/directive/clickwrap-modal.html',{scope:angular.extend($scope,{close:function(){$scope.modal.remove()}}),animation:'slide-in-right-left'}).then(function(modal){$scope.modal=modal;$scope.modal.show();return modal})}}}});angular.module('starter').directive('classifieds2Location',function(){return{restrict:'E',replace:!1,scope:{field:'='},templateUrl:'./features/classifieds2/assets/templates/l1/directive/geolocation.html',link:function(scope){scope.locationIsLoading=!1},controller:function($scope,$filter,Dialog,Location,GoogleMaps){$scope.getLocation=function(){if(!$scope.field.is_checked){$scope.field.value=null;return}
if(Location.isEnabled){$scope.locationIsLoading=!0;Location.getLocation().then(function(position){var lat=Number.parseFloat(position.coords.latitude).toFixed(5);var lng=Number.parseFloat(position.coords.longitude).toFixed(5);$scope.field.value={address:null,coords:{lat:lat,lng:lng}};GoogleMaps.reverseGeocode(position.coords).then(function(results){if(results.length>0){var place=results[0];try{$scope.shortLocation=_.find(place.address_components,function(item){return item.types.indexOf('locality')>=0}).long_name}catch(e){$scope.shortLocation=place.formatted_address}
$scope.field.value.address=$scope.shortLocation}},function(){$scope.field.value.address=Number.parseFloat(position.coords.latitude).toFixed(5)+", "+Number.parseFloat(position.coords.longitude).toFixed(5)})},function(e){$scope.field.value=null;$scope.field.is_checked=!1}).then(function(){$scope.locationIsLoading=!1})}else{}};$scope.formatLocation=function(){if(!$scope.field.is_checked){return''}
var html;if($scope.field.value.address){html=$scope.field.value.address+'<br />'+$scope.field.value.coords.lat+', '+$scope.field.value.coords.lng}else{html=$scope.field.value.coords.lat+', '+$scope.field.value.coords.lng}
return $filter('trusted_html')(html)}}}});angular.module('starter').directive('classifieds2Pictures',function(){return{restrict:'E',replace:!1,scope:{field:'=',cardDesign:'=?'},templateUrl:'./features/classifieds2/assets/templates/l1/directive/pictures.html',link:function(scope){scope.locationIsLoading=!1;if(scope.cardDesign===undefined){scope.cardDesign=!1}
scope.addPictureText='Add a picture';if(scope.field.image_addpicture.length>0){scope.addPictureText=scope.field.image_addpicture}
scope.addAnotherPictureText='Add another picture';if(scope.field.image_addanotherpicture.length>0){scope.addAnotherPictureText=scope.field.image_addanotherpicture}},controller:function($scope,Picture){$scope.takePicture=function(){if($scope.field.value.length>=$scope.field.limit){return}
Picture.takePicture().then(function(success){$scope.addPicture(success.image)})};$scope.addPicture=function(picture){if(!$scope.field.value){$scope.field.value=[]}
$scope.field.value.push(picture)};$scope.removePicture=function(index){$scope.field.value.splice(index,1)}}}});Features.insertCSS(":root{--safe-area-inset-top:0;--safe-area-inset-right:0;--safe-area-inset-bottom:0;--safe-area-inset-left:0}@supports (padding-top:constant(safe-area-inset-top)){:root{--safe-area-inset-top:constant(safe-area-inset-top);--safe-area-inset-right:constant(safe-area-inset-right);--safe-area-inset-bottom:constant(safe-area-inset-bottom);--safe-area-inset-left:constant(safe-area-inset-left)}}@supports (padding-top:env(safe-area-inset-top)){:root{--safe-area-inset-top:env(safe-area-inset-top);--safe-area-inset-right:env(safe-area-inset-right);--safe-area-inset-bottom:env(safe-area-inset-bottom);--safe-area-inset-left:env(safe-area-inset-left)}}.platform-overview.platform-cordova{--safe-area-inset-top:1.5em;--safe-area-inset-right:0;--safe-area-inset-bottom:.5em;--safe-area-inset-left:0}.module-classifieds2 .bar-subheader{border:0}.module-classifieds2 .bar-subheader button{border:0}.module-classifieds2 .cls-ltr{direction:ltr!important}.module-classifieds2 .cls-spacer{height:40px}.module-classifieds2 .clear-fullsearch{position:relative;top:-24px;left:calc(100vw + 11px)}.module-classifieds2 .clear-fullsearch:before{font-size:26px}.module-classifieds2 .clear-fullsearch-map{position:relative;top:18px;left:calc(100vw - 39px)}.module-classifieds2 .clear-fullsearch-map:before{font-size:26px}.module-classifieds2 .submit-message-button{bottom:0;position:absolute;margin:0}.module-classifieds2 img.classifieds2-illustration{width:100%;height:auto;display:block}.module-classifieds2 .remove-image-list,.module-classifieds2 .remove-image-card{position:absolute;right:6px;top:6px}.module-classifieds2 .remove-image-list i.icon,.module-classifieds2 .remove-image-card i.icon{font-size:26px}.module-classifieds2 .classifieds2-richtext *{white-space:normal}.module-classifieds2 img.classifieds2-pictures{max-height:15vh;width:auto;max-width:90%;margin:6px auto}.module-classifieds2 .classifieds2-radio .radio-title{padding:5px 15px;font-weight:700}.module-classifieds2 .classifieds2-radio .radio-item .radio-content .item-content{padding:10px 15px;font-size:13px}.module-classifieds2 .classifieds2-radio .radio-item .radio-content .radio-icon{padding:2px 15px}.module-classifieds2 .classifieds2-image .upload-title{padding:5px 15px;font-weight:700}.module-classifieds2 .classifieds2-image .upload-action{padding:10px 15px 10px 54px}.module-classifieds2 .classifieds2-datetime,.module-classifieds2 .classifieds2-date{padding:2px 0 2px 54px}.module-classifieds2 .classifieds2-datetime input[type=\"text\"],.module-classifieds2 .classifieds2-date input[type=\"text\"]{width:100%}.module-classifieds2 .list .classifieds2-radio label .radio-content{border-left:2px solid #444}.module-classifieds2 .card .classifieds2-radio label .radio-content{border-left:2px solid #444}.module-classifieds2 .no-advert{white-space:normal!important;padding-top:15px!important;padding-bottom:15px!important}.module-classifieds2 .classifieds2-map #crMap{position:absolute;width:100vw;top:0;bottom:0}.module-classifieds2 .classifieds2-map #cr-map-overlay .cr-map-zoom{position:absolute;right:1rem;bottom:1rem;text-align:center}.module-classifieds2 .classifieds2-map #cr-map-overlay .cr-map-zoom .cr-zoom-center-me{border:0;background-color:rgba(255,255,255,.9);padding:.4rem .75rem;border-radius:4px;margin-bottom:1rem;box-shadow:2px 2px 5px #8a8a8a}.module-classifieds2 .classifieds2-map #cr-map-overlay .cr-map-zoom .cr-zoom-shadow{box-shadow:2px 2px 5px #8a8a8a;border-radius:4px}.module-classifieds2 .classifieds2-map #cr-map-overlay .cr-map-zoom .cr-zoom-shadow .cr-zoom-in{border:0;background-color:rgba(255,255,255,.9);padding:.4rem .75rem}.module-classifieds2 .classifieds2-map #cr-map-overlay .cr-map-zoom .cr-zoom-shadow .cr-zoom-out{border:0;border-top:1px solid lightgrey;background-color:rgba(255,255,255,.9);padding:.4rem .75rem}.module-classifieds2 .classifieds2-map #cr-map-overlay .cr-map-loading{position:absolute;left:40vw;top:50vh;transform:translate(-15vw,-15vh);text-align:center;border:0;background-color:rgba(255,255,255,.9);font-variant:small-caps;text-transform:lowercase;letter-spacing:.05em;font-size:1rem;border-radius:4px;box-shadow:2px 2px 5px #8a8a8a}.module-classifieds2 .classifieds2-map #cr-map-overlay .cr-map-loading .cr-map-loader .cr-loader-spinner img{width:80%;height:auto}.module-classifieds2 .classifieds2-map #cr-map-overlay .cr-map-loading .cr-map-loader .cr-loader-label{margin-bottom:.5rem;padding:0 10px}.module-classifieds2 .classifieds2-map #cr-map-overlay .cr-map-loading-small{position:absolute;top:54px;left:15px;background-color:rgba(255,255,255,.9);font-variant:small-caps;text-transform:lowercase;letter-spacing:.05em;font-size:1rem;border-radius:4px;box-shadow:2px 2px 5px #8a8a8a;padding:3px 15px 5px 15px}.module-classifieds2 .classifieds2-map #cr-map-overlay .cr-map-search-bar p{position:absolute;top:15px;left:15px;background-color:rgba(255,255,255,.9);font-variant:small-caps;text-transform:lowercase;letter-spacing:.05em;font-size:1rem;border-radius:4px;box-shadow:2px 2px 5px #8a8a8a;padding:5px 14px 7px 14px;width:calc(100vw - 30px);cursor:text;overflow:hidden;height:32px}.module-classifieds2 .classifieds2-map .map-canvas{width:100%;top:44px;bottom:var(--safe-area-inset-bottom)}.module-classifieds2 .classifieds2-map .info-window .item{padding-top:10px;padding-bottom:10px;margin:-1px 0!important;border-top:0;border-bottom:0}.module-classifieds2 .classifieds2-map .info-window .info-window-icon{padding:10px;border-bottom:0}.module-classifieds2 .classifieds2-map .info-window .info-window-icon span{font-size:.85rem;font-weight:700;width:85%;display:inline-block}.module-classifieds2 .classifieds2-map .info-window .info-window-icon span.info-window-title{padding-left:8px;padding-bottom:6px}.module-classifieds2 .classifieds2-map .info-window .info-window-icon span.info-window-more,.module-classifieds2 .classifieds2-map .info-window .info-window-icon span.info-window-distance{font-size:.7rem;width:auto}.module-classifieds2 .classifieds2-map .info-window .info-window-icon span.info-window-distance{padding-left:8px}.module-classifieds2 .classifieds2-map .info-window .info-window-icon i.info-close{position:absolute;right:10px;top:8px}.module-classifieds2.classifieds2-filter i.clear-text{position:absolute;right:1.5rem;top:calc(50% - .625rem);font-size:1.25rem}.module-classifieds2.classifieds2-filter .search-button{position:fixed;bottom:0;z-index:100;margin:0!important}.module-classifieds2.classifieds2-filter .no-padding{padding:0!important}.module-classifieds2.classifieds2-list .advert-text-box{margin:0!important;padding-top:8px!important;padding-bottom:8px!important}.module-classifieds2.classifieds2-list .ad-status{color:#333;padding:5px;letter-spacing:1px;text-transform:uppercase}.module-classifieds2.classifieds2-list .ad-status.pending{background-color:rgba(234,133,8,.85)}.module-classifieds2.classifieds2-list .ad-status.published{color:#fff;background-color:#50942d}.module-classifieds2.classifieds2-list .ad-status.expired{color:#fff;background-color:#4d4d4d}.module-classifieds2.classifieds2-list div.no-margin-bottom{margin-bottom:0}.module-classifieds2.classifieds2-list div.advert-image{height:40vw;background-repeat:no-repeat;background-size:cover;background-position:center}.module-classifieds2.classifieds2-list h5.advert-title{overflow:hidden;text-overflow:ellipsis;font-size:14px}.module-classifieds2.classifieds2-list p.advert-price{font-size:14px;font-weight:700}.module-classifieds2.classifieds2-list .search-header .cr-list-search-bar{height:78px;background-color:#387ef5;border-radius:0 0 70% 70%;width:calc(100vw + 100px);transform:translateX(-50px)}.module-classifieds2.classifieds2-list .search-header .cr-list-search-bar p{top:15px;left:65px;background-color:rgba(255,255,255,.9);font-variant:small-caps;text-transform:lowercase;letter-spacing:.05em;font-size:1rem;border-radius:4px;box-shadow:2px 2px 5px #8a8a8a;padding:5px 14px 7px 14px;width:calc(100vw - 30px);cursor:text;overflow:hidden;height:32px;position:relative}.module-classifieds2.classifieds2-list .bar-subheader{padding:0!important}.module-classifieds2.classifieds2-list .bar-subheader .button-bar>.button.button-positive-custom.activated{background-color:#387ef5!important;border-color:#0c60ee!important}.module-classifieds2.classifieds2-list .bar-subheader .button-bar>.button img{filter:grayscale(100%)}.module-classifieds2.classifieds2-list .bar-subheader .button-bar>.button img.fw-icon-header{height:24px;margin-top:8px}.module-classifieds2.classifieds2-list .bar-subheader .button-bar>.button i{filter:grayscale(100%)}.module-classifieds2.classifieds2-list .bar-subheader .button-bar>.button i.icon:before{font-size:24px!important}.module-classifieds2.classifieds2-list .bar-subheader .button-bar>.button:first-child{border-radius:0}.module-classifieds2.classifieds2-list .bar-subheader .button-bar>.button:last-child{border-radius:0}.module-classifieds2.classifieds2-list .bar-subheader .button-bar>.button:active img,.module-classifieds2.classifieds2-list .bar-subheader .button-bar>.button.fw-icon-selected img,.module-classifieds2.classifieds2-list .bar-subheader .button-bar>.button:active i,.module-classifieds2.classifieds2-list .bar-subheader .button-bar>.button.fw-icon-selected i{filter:grayscale(0)}.module-classifieds2.classifieds2-list .item{padding-bottom:0;margin-top:12px;margin-bottom:0}.module-classifieds2.classifieds2-list .item .post-body{padding-top:10px;padding-bottom:10px}.module-classifieds2.classifieds2-list .item .post-body h2{padding:0 0 10px 0;font-weight:700}.module-classifieds2.classifieds2-list .item .post-body p{overflow:initial;text-overflow:initial;white-space:initial}.module-classifieds2.classifieds2-list .item .post-body p.subtitle{padding:8px 0}.module-classifieds2.classifieds2-list .item .post-author.item-avatar{padding-left:50px;min-height:50px}.module-classifieds2.classifieds2-list .item .post-author h2{font-weight:700;line-height:16px;height:16px;margin-top:3px}.module-classifieds2.classifieds2-list .item .post-author h2 i.icon{margin:0 0 0 12px;font-size:20px}.module-classifieds2.classifieds2-list .item .post-author h2 i.icon.icon-pin{transform:rotate(20deg)}.module-classifieds2.classifieds2-list .item .post-author .post-date{font-size:11px}.module-classifieds2.classifieds2-list .item .post-images .row.fanwall-row{margin:0;padding:0;height:25vh}.module-classifieds2.classifieds2-list .item .post-images .fanwall-image-bg-2{border-left:2px solid #fff}.module-classifieds2.classifieds2-list .item .post-images .fanwall-image-bg-2.fanwall-bg-card{border-left:2px solid #fff}.module-classifieds2.classifieds2-list .item .post-images .fanwall-image-bg-3{border-top:2px solid #fff}.module-classifieds2.classifieds2-list .item .post-images .fanwall-image-bg-3.fanwall-bg-card{border-top:2px solid #fff}.module-classifieds2.classifieds2-list .item .post-image{margin:0 -16px 0 -16px}.module-classifieds2.classifieds2-list .item .post-image.fanwall-bg-2{margin:0 -16px 0 0}.module-classifieds2.classifieds2-list .item .post-image.fanwall-bg-3{height:20vh}.module-classifieds2.classifieds2-list .item .post-image a.fanwall-image-bg{display:inline-block;width:100%;background-position:center center;background-size:cover;height:30vh}.module-classifieds2.classifieds2-list .item .post-image a.fanwall-image-bg.fanwall-image-bg-1{height:25vh}.module-classifieds2.classifieds2-list .item .post-image a.fanwall-image-bg.fanwall-image-bg-2{height:25vh}.module-classifieds2.classifieds2-list .item .post-image a.fanwall-image-bg.fanwall-image-bg-3{height:20vh}.module-classifieds2.classifieds2-list .item .post-image img{display:block}.module-classifieds2.classifieds2-list .item .post-likes{padding-top:4px;padding-bottom:4px}.module-classifieds2.classifieds2-list .item .post-likes span{font-size:14px}.module-classifieds2.classifieds2-list .item .post-actions{padding-top:7px;padding-bottom:6px;font-weight:700}.module-classifieds2.classifieds2-list .item .post-likes~.post-actions{border-top:1px solid rgba(68,68,68,.2)}.module-classifieds2.classifieds2-list .item .post-body~.post-actions{border-top:1px solid rgba(68,68,68,.2)}.module-classifieds2.classifieds2-list .item.card .post-likes~.post-actions{border-top:1px solid rgba(68,68,68,.2)}.module-classifieds2.classifieds2-list .item.card .post-body~.post-actions{border-top:1px solid rgba(68,68,68,.2)}.module-classifieds2.classifieds2-list .item.card .post-author{padding-top:16px;margin-bottom:10px}.module-classifieds2.fanwall-comment-l1 .item-comment .comment-date~.comment-image{margin-top:10px}.module-classifieds2.fanwall-comment-l1 .item-comment .comment-author.item-avatar{padding-top:5px;padding-left:50px;min-height:50px}.module-classifieds2.fanwall-comment-l1 .item-comment .comment-author i.icon{font-size:16px}.module-classifieds2.fanwall-comment-l1 .item-comment .comment-author h2{font-weight:700;font-size:13px;line-height:15px}.module-classifieds2.fanwall-comment-l1 .item-comment .comment-author p.comment-date{font-size:11px;line-height:11px}.module-classifieds2.fanwall-comment-l1 .item-comment .comment-author p.comment-text{margin-top:10px;white-space:initial}.module-classifieds2.fanwall-comment-l1 .item-comment .comment-author p.comment-text *{white-space:initial}.module-classifieds2.fanwall-comment-l1 .item-comment .comment-image img{max-width:100%;max-height:140px;padding:3px;border:1px solid #c4c4c4;border-radius:6px}.module-classifieds2.fanwall-comment-l1 .item-comment.card{margin-bottom:0;margin-top:12px}.module-classifieds2.fanwall-comment-l1 .item-comment.card .comment-image img{border:1px solid #c4c4c4}.module-classifieds2.fanwall-comment-l1 .item-comment.card .comment-author.item-avatar{padding-top:15px;padding-left:50px;padding-bottom:10px;min-height:50px}.module-classifieds2.fanwall-comment-l1 .comment-footer .item-input-inset{width:100%}.module-classifieds2.fanwall-comment-l1 .comment-footer .picture-badge{font-size:10px;padding:0 6px 0 5px;margin-left:-17px}.module-classifieds2.fanwall-comment-l1 .comment-footer textarea{resize:none;margin:0;height:32px;width:100%;padding:8px 33px 7px 16px;border-radius:50px}.module-classifieds2.fanwall-comment-l1 .comment-footer .clear-comment{font-size:26px;position:absolute;right:54px;opacity:.6}.module-classifieds2.fanwall-new-l1 .post-button{position:fixed;bottom:0;z-index:100;margin:0!important}.module-classifieds2.fanwall-new-l1 .post-author.item-avatar{padding-left:72px;min-height:50px}.module-classifieds2.fanwall-new-l1 .post-author h2{font-weight:700;line-height:15px}.module-classifieds2.fanwall-new-l1 .post-author h2 i.icon{margin:0 0 0 12px}.module-classifieds2.fanwall-new-l1 .post-author h2 i.icon.icon-pin{transform:rotate(30deg)}.module-classifieds2.fanwall-new-l1 .post-author .post-location{font-size:11px}.module-classifieds2.fanwall-new-l1 .new-post-items .item{margin-top:12px;padding-top:15px;padding-bottom:15px;padding-right:15px}.module-classifieds2.fanwall-new-l1 .new-post-items .item .new-post-author{margin-top:4px}.module-classifieds2.fanwall-new-l1 .new-post-items .item label{width:100%}.module-classifieds2.fanwall-new-l1 .new-post-items .item textarea{resize:none}.module-classifieds2.fanwall-new-l1 .new-post-items .item.item-avatar{padding-left:72px;min-height:72px}.module-classifieds2.fanwall-new-l1 .new-post-items .item.card{margin-top:0;margin-bottom:6px}.module-classifieds2.fanwall-new-l1 .new-post-items .item.card:first-of-type{margin-top:12px!important}.module-classifieds2.fanwall-new-l1 img.fanwall-pictures{max-height:15vh;width:auto;max-width:90%;margin:6px auto}.module-classifieds2.fanwall-new-l1 .remove-image-list,.module-classifieds2.fanwall-new-l1 .remove-image-card{position:absolute;right:6px;top:6px}.module-classifieds2.fanwall-new-l1 .remove-image-list i.icon,.module-classifieds2.fanwall-new-l1 .remove-image-card i.icon{font-size:26px}.module-classifieds2 .more-circle{position:relative;width:48px;height:48px;background:rgba(255,255,255,.9);border-radius:50%;text-align:center;display:flex;justify-content:space-evenly;align-items:center;font-size:20px;padding:5px;pointer-events:none;left:calc(75% - 24px);top:calc(-50% - 24px);box-shadow:0 0 2px #000}.module-classifieds2 .more-circle i.icon{font-size:14px}.module-classifieds2 .fanwall-gallery{justify-content:flex-start;display:flex;flex-direction:row;flex-flow:row wrap}.module-classifieds2 .fanwall-gallery .gallery-item{background-position:center center;background-repeat:no-repeat;background-size:cover}.module-classifieds2 .fanwall-gallery .gallery-item img{width:100%}.module-classifieds2 .fanwall-gallery .gallery-item:nth-child(3n+1){width:32%;margin-top:2%}.module-classifieds2 .fanwall-gallery .gallery-item:nth-child(3n+2){width:32%;margin-left:2%;margin-right:2%;margin-top:2%}.module-classifieds2 .fanwall-gallery .gallery-item:nth-child(3n+3){width:32%;margin-top:2%}.module-classifieds2 .fanwall-post-image-container{margin:0 -12px}.module-classifieds2 .fanwall-slider-container{height:30vh;overflow:hidden}.module-classifieds2 .fanwall-slider-container-product{height:50vh;margin:0;overflow:hidden}.module-classifieds2 .fanwall-directive-slider,.module-classifieds2 [fanwall-slider]{height:100%}.module-classifieds2.fanwall-slider,.module-classifieds2.fanwall-slider-modal{height:100%;padding:0!important}.module-classifieds2.fanwall-slider ul[rn-carousel],.module-classifieds2.fanwall-slider-modal ul[rn-carousel]{height:100%}.module-classifieds2.fanwall-slider ul[rn-carousel] li>div,.module-classifieds2.fanwall-slider-modal ul[rn-carousel] li>div{height:100%;background-size:cover;background-repeat:no-repeat;background-position:center}.module-classifieds2.fanwall-slider div[rn-carousel-indicators],.module-classifieds2.fanwall-slider-modal div[rn-carousel-indicators]{text-align:center;background-color:transparent;position:relative;left:0;right:0;bottom:20px}.module-classifieds2.fanwall-slider div[rn-carousel-indicators] div.rn-carousel-indicator span,.module-classifieds2.fanwall-slider-modal div[rn-carousel-indicators] div.rn-carousel-indicator span{font-size:16px;margin:0 4px;color:#fff}.module-classifieds2.fanwall-slider div[rn-carousel-indicators] div.rn-carousel-indicator span.active,.module-classifieds2.fanwall-slider-modal div[rn-carousel-indicators] div.rn-carousel-indicator span.active{color:#ef473a}.module-classifieds2.fanwall-slider.fullscreen .bar-subheader.bar-dark,.module-classifieds2.fanwall-slider-modal.fullscreen .bar-subheader.bar-dark{background-color:#000}.module-classifieds2.fanwall-slider.fullscreen .scroll,.module-classifieds2.fanwall-slider-modal.fullscreen .scroll{background-color:#000;height:100%;width:100%}.module-classifieds2.fanwall-slider.fullscreen .scroll ul li .scroll-view,.module-classifieds2.fanwall-slider-modal.fullscreen .scroll ul li .scroll-view{background-color:#000;height:100%;width:100%}.module-classifieds2.fanwall-slider.fullscreen .scroll ul li .scroll .image,.module-classifieds2.fanwall-slider-modal.fullscreen .scroll ul li .scroll .image{background-repeat:no-repeat;background-size:contain;background-position:center;height:100%;width:100%}.module-classifieds2 .classifieds2-slider-container{height:22vh;margin:10px;border-radius:5px;overflow:hidden}.module-classifieds2 .classifieds2-slider-container.slider-home{box-shadow:0 1px 3px rgba(0,0,0,.3)}.module-classifieds2 .classifieds2-slider-container-product{height:50vh;margin:0;overflow:hidden}.module-classifieds2 [classifieds2-slider]{height:100%}.module-classifieds2.classifieds2-slider{height:100%;padding:0!important}.module-classifieds2.classifieds2-slider ul[rn-carousel]{height:100%}.module-classifieds2.classifieds2-slider ul[rn-carousel] li>div{height:100%;background-size:cover;background-repeat:no-repeat}.module-classifieds2.classifieds2-slider div[rn-carousel-indicators]{text-align:center;background-color:transparent;position:relative;left:0;right:0;bottom:20px}.module-classifieds2.classifieds2-slider div[rn-carousel-indicators] div.rn-carousel-indicator span{font-size:16px;margin:0 4px;color:#fff}.module-classifieds2.classifieds2-slider div[rn-carousel-indicators] div.rn-carousel-indicator span.active{color:#ef473a}.module-classifieds2.advert-view .advert-like{font-size:28px}.module-classifieds2.advert-view .like-active{color:#9c1912}.module-classifieds2.advert-view .like-inactive{color:#696969}.module-classifieds2.advert-view .advert-price{font-size:17px;font-weight:700;margin-top:10px;margin-bottom:10px}.module-classifieds2.advert-view .advert-description{font-size:16px;margin-bottom:15px}.module-classifieds2.advert-view .advert-description *{font-size:16px}.module-classifieds2.advert-view .item.item-image-gallery{height:50vh!important}.module-classifieds2.advert-view .sb-cms-image ul[rn-carousel] li>div{height:100%!important}.module-classifieds2.advert-view .list{margin-bottom:8px}.module-classifieds2.advert-view .classifieds2-cart-quantity{margin-left:5px}.module-classifieds2.advert-view ion-header-bar{background:transparent;background:linear-gradient(to bottom,rgba(0,0,0,1) 0%,rgba(125,185,232,0) 100%);border:0;text-shadow:1px 1px 2px grey}.module-classifieds2.advert-view ion-header-bar i.icon:before{text-shadow:1px 1px 2px grey}.module-classifieds2.advert-view ion-header-bar .classifieds2_font:before{text-shadow:1px 1px 2px grey}.module-classifieds2.advert-view ion-content{top:0!important;bottom:44px!important}.module-classifieds2.advert-view ion-footer-bar{padding:0;border:0;box-shadow:0 0 7px grey}.module-classifieds2.advert-view ion-footer-bar button{border:0;margin:0}.module-classifieds2.advert-view ion-footer-bar button.button-bookmark,.module-classifieds2.advert-view ion-footer-bar button.button-call,.module-classifieds2.advert-view ion-footer-bar button.button-message{text-transform:uppercase;font-size:11px;font-weight:700;letter-spacing:1px}.module-classifieds2.advert-view ion-footer-bar button.button-bookmark i.icon :before,.module-classifieds2.advert-view ion-footer-bar button.button-call i.icon :before,.module-classifieds2.advert-view ion-footer-bar button.button-message i.icon :before{font-size:16px}.module-classifieds2.advert-view ion-footer-bar .action-quantity-container{width:152px;overflow:hidden;display:flex}.module-classifieds2.advert-view ion-footer-bar .action-quantity{width:44px;height:44px;display:inline-block;font-size:26px;line-height:26px;padding:0;padding-bottom:6px}.module-classifieds2.advert-view ion-footer-bar .item-quantity{width:64px;height:44px;display:inline-block;font-size:18px;line-height:18px;text-align:center;padding:0}.module-classifieds2.advert-view ion-footer-bar .item-quantity::-webkit-outer-spin-button,.module-classifieds2.advert-view ion-footer-bar .item-quantity::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.module-classifieds2.advert-view ion-footer-bar .item-quantity[type=number]{-moz-appearance:textfield}@media screen and (orientation:portrait){.module-classifieds2 .classifieds2-map .info-window{width:100vw;position:absolute;bottom:0;padding:0 2vw}}@media screen and (orientation:landscape){.module-classifieds2 .classifieds2-map .info-window{width:50vw;position:absolute;bottom:0;left:0;padding:0 2vw}}#baguetteBox-overlay{user-select:all;pointer-events:all}.classifieds2-location-action:before{font-size:26px!important}.layout-l1 .has-footer-fixed .module-classifieds2 .classifieds2-map #crMap{bottom:0}","classifieds2")